import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import Grid, { GridItem } from ".";
import Button from "../Button";

<Meta title="Grid" component={Grid} />

# Grid

[Properties](#properties) | [Examples](#examples) | [Upgrading](#upgrading)

Grid component using the built-in Styled System Grid Layout through its `grid` function. Use `Grid` to display layouts that must conform to a specific grid structure (columns and/or rows), or for tabular data and contents. If no grid structure is needed, for example in a horizontal row of buttons, use `Flex` instead.

Importing `GridItem` is recommended for use with `Grid` to retain sizing for the children; see [example](#without-griditem-vs-with-griditem) below.

<Preview>
  <Story name="Basic">
    <Grid>
      <GridItem>1</GridItem>
      <GridItem>2</GridItem>
      <GridItem>3</GridItem>
      <GridItem>4</GridItem>
      <GridItem>5</GridItem>
      <GridItem>6</GridItem>
    </Grid>
  </Story>
</Preview>

## Properties

This component uses Styled System props. `Grid` uses `space`, `layout`, `color` and `grid` props. `Grid` uses `space`, `layout`, and `color` props.

### For reference, see:

- [space on Styled-System](https://styled-system.com/table#space)
- [layout on Styled-System](https://styled-system.com/table#layout)
- [color on Styled-System](https://styled-system.com/table#color)
- [grid on Styled-System](https://styled-system.com/table#space)
- [CSS Grid Properties](https://css-tricks.com/snippets/css/complete-guide-grid)
- [systemtheme.js](https://github.com/orchestrated-io/orca-design-system/blob/master/packages/orcs-design-system/lib/systemtheme.js) (our arrays and scales for design system values)

By default, we've set certain default values on `Grid` as documented in the table below.

<Props of={Grid} />

## Examples

### With Colours

<Preview>
  <Story name="With Colours">
    <Grid>
      <GridItem bg="grey">1</GridItem>
      <GridItem bg="primary" color="white">
        2
      </GridItem>
      <GridItem bg="greyLight">3</GridItem>
      <GridItem bg="greyDark">4</GridItem>
      <GridItem bg="success">5</GridItem>
      <GridItem bg="warning">6</GridItem>
    </Grid>
  </Story>
</Preview>

### Template Columns and Rows

<Preview>
  <Story name="Template Columns and Rows">
    <Grid
      gridTemplateColumns="repeat(3, 1fr)"
      gridTemplateRows="repeat(2, 1fr)"
      bg="greyLightest"
    >
      <GridItem>
        This Grid uses repeat and fr to specify the grid structure.
      </GridItem>
      <GridItem>Fusce sit amet lorem lectus.</GridItem>
      <GridItem>Nullam lobortis porta iaculis. </GridItem>
      <GridItem>Pellentesque fermentum elementum elit non blandit.</GridItem>
      <GridItem>Etiam rhoncus ultricies lorem nec imperdiet.</GridItem>
      <GridItem>Pellentesque. </GridItem>
    </Grid>
  </Story>
</Preview>

### Width-based Columns and Rows

<Preview>
  <Story name="Width-based Columns and Rows">
    <Grid
      gridTemplateColumns="25% 200px auto"
      gridTemplateRows="25% 100px auto"
      bg="greyLighter"
    >
      <GridItem>
        This Grid uses widths and percentages to specify the grid structure.
      </GridItem>
      <GridItem>Fusce sit amet lorem lectus.</GridItem>
      <GridItem>Nullam lobortis porta iaculis. </GridItem>
      <GridItem>Pellentesque fermentum elementum elit non blandit.</GridItem>
      <GridItem>Etiam rhoncus ultricies lorem nec imperdiet.</GridItem>
      <GridItem>Pellentesque. </GridItem>
      <GridItem>
        Each GridItem goes down the columns first and then goes through the
        rows.
      </GridItem>
      <GridItem>
        To change this, change the value of the gridAutoFlow property. The
        default value is columns.
      </GridItem>
    </Grid>
  </Story>
</Preview>

### Using `GridItem`

Using `GridItem` to wrap individual children in the grid ensures that the children retain their original dimensions, as not using `GridItem` allows children to take up the full width of their grid cell. This does not affect the behaviour of text content.

#### With `GridItem`
Note that `GridItem` has default `padding={4}` where `4` refers to the 4th value in the [space array scale](https://github.com/orchestrated-io/orca-design-system/blob/master/packages/orcs-design-system/lib/systemtheme.js).
<Preview>
  <Story name="Using GridItem">
    <Grid bg="greyLightest">
      <GridItem>
        <Button>Default Button</Button>
      </GridItem>
      <GridItem>
        <Button colour="successDark">Success</Button>
      </GridItem>
      <GridItem>
        <Button fullWidth>Full width button</Button>
      </GridItem>
      <GridItem>
        <p>Text-only item</p>
      </GridItem>
    </Grid>
  </Story>
</Preview>

<Preview>
  <Story name="Text With GridItem">
    <Grid bg="greyLighter">
      <GridItem>3</GridItem>
      <GridItem>1</GridItem>
      <GridItem>4</GridItem>
      <GridItem>1</GridItem>
      <GridItem>5</GridItem>
      <GridItem>9</GridItem>
    </Grid>
  </Story>
</Preview>

#### Without `GridItem`
<Preview>
  <Story name="Components Without GridItem">
    <Grid bg="greyLightest">
      <Button>Default Button</Button>
      <Button colour="successDark">Success</Button>
      <Button fullWidth>Full width button</Button>
      <p>Text-only item</p>
    </Grid>
  </Story>
</Preview>

<Preview>
  <Story name="Text Without GridItem">
    <Grid bg="greyLighter">
    <>  <p>3</p>
      <p>1</p>
      <p>4</p>
      <p>1</p>
      <p>5</p>
      <p>9</p> </>
    </Grid>
  </Story>
</Preview>

## Upgrading

This component is a **breaking change** from the [previous version](https://www.npmjs.com/package/styled-grid-component) of `Grid`. Use the following table as a guide to convert from `styled-grid-component` properties to `styled-system` props.

| **styled-grid-component** | **styled-system** |
|-----------------------|---------------|
| `width`                 | `width`         |
| `height`                | `height`        |
| `templateColumns`       | `gridTemplateColumns`     |
| `templateRows`          | `gridTemplateRows`     |
| `rowGap`                | `gridRowGap`       |
| `autoRows`              | `gridAutoRows`  |
